(this.webpackJsonpemilus=this.webpackJsonpemilus||[]).push([[34],{534:function(t,e,i){"use strict";i.r(e);var a=i(273),l=i(526),n=i(527),s=i(568),r=i(551),o=i(567),c=i(569),d=i(125),h=i(566),j=i(459),g=i(173),b=i(0),p=i(573),x=i(507),O=i(574),m=i(5);const u=[{title:"\u041d\u043e\u0432\u044b\u0435 \u0441\u0442\u043e\u043b\u044b",arrayObj:[{id:1,title:"\u0421\u0442\u043e\u043b \u043d\u0430 2 \u043c\u0435\u0441\u0442\u0430",img:"https://i.postimg.cc/85kpn5N2/table2.png",x:0,y:0,rotation:0,width:80,height:80},{id:2,title:"\u0421\u0442\u043e\u043b\u0430 \u043d\u0430 5 \u043c\u0435\u0441\u0442",img:"https://i.postimg.cc/fb9qnjTX/table5.png",x:0,y:0,rotation:0,width:80,height:80},{id:3,title:"\u0421\u0442\u043e\u043b \u043d\u0430 6 \u043c\u0435\u0441\u0442",img:"https://i.postimg.cc/X7BVPt6Y/table6.png",x:0,y:0,rotation:0,width:80,height:80},{id:4,title:"\u0421\u0442\u0443\u043b",img:"https://i.postimg.cc/wMGjNpKS/chair.png",x:0,y:0,rotation:0,width:80,height:80}]},{title:"\u041d\u043e\u0432\u044b\u0435 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u044b",arrayObj:[{id:1,title:"\u0417\u043e\u043d\u0430 3 \u043c\u0435\u0441\u0442\u0430",img:"https://i.postimg.cc/8zrmjkQg/zona-for-3.png",x:0,y:0,rotation:0,width:80,height:80},{id:2,title:"\u0417\u043e\u043d\u0430 4 \u043c\u0435\u0441\u0442\u0430",img:"https://i.postimg.cc/LsKBfd2Y/zona-for-4.png",x:0,y:0,rotation:0,width:80,height:80}]},{title:"Custom",arrayObj:[{id:1,title:"\u0421\u0442\u0443\u043b",img:"https://i.postimg.cc/wMGjNpKS/chair.png",x:0,y:0,rotation:0,width:80,height:80}]},{title:"\u041c\u0435\u0441\u0442\u0430",arrayObj:[{}]},{title:"\u041f\u0440\u043e\u0447\u0435\u0435",arrayObj:[{}]}];e.default=()=>{const[t,e]=Object(b.useState)(0),[i,y]=Object(b.useState)([]),[f,w]=Object(b.useState)(null),[v,k]=Object(b.useState)(!1),C=function(t,e){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const a=t.target.getBoundingClientRect(),l=t.clientX-a.left,n=t.clientY-a.top;t.dataTransfer.setData("text/plain",JSON.stringify({...e,offsetX:l,offsetY:n,isDroppedItem:i}))},S=(t,e)=>{f&&y((i=>i.map((i=>i.id===f.id?{...i,[t]:e}:i))))};return Object(m.jsx)("div",{className:"",children:Object(m.jsxs)(l.a,{gutter:16,children:[Object(m.jsxs)(n.a,{xs:24,sm:24,md:8,lg:10,children:[Object(m.jsxs)(s.a,{children:[Object(m.jsx)(r.a,{defaultActiveKey:"0",onChange:t=>e(Number(t)),items:u.map(((t,e)=>({key:e.toString(),label:t.title})))}),Object(m.jsx)("div",{style:{display:"flex",overflowX:"auto",gap:16,padding:10},children:u[t].arrayObj.map((t=>Object(m.jsxs)("div",{draggable:!0,onDragStart:e=>C(e,t),style:{textAlign:"center"},children:[Object(m.jsx)("img",{src:t.img,alt:t.title,style:{cursor:"pointer",width:80,height:80}}),Object(m.jsx)("div",{children:t.title})]},t.id)))})]}),Object(m.jsx)(s.a,{title:"\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u0430",style:{marginTop:16},children:Object(m.jsx)(o.a,{layout:"horizontal",children:Object(m.jsxs)(g.a,{gap:16,children:[Object(m.jsx)(o.a.Item,{label:"X",children:Object(m.jsx)(c.a,{style:{width:50},value:null===f||void 0===f?void 0:f.x,onChange:t=>S("x",t)})}),Object(m.jsx)(o.a.Item,{label:"Y",children:Object(m.jsx)(c.a,{style:{width:50},value:null===f||void 0===f?void 0:f.y,onChange:t=>S("y",t)})}),Object(m.jsx)(o.a.Item,{label:"\u0423\u0433\u043e\u043b",children:Object(m.jsx)(c.a,{style:{width:50},value:null===f||void 0===f?void 0:f.rotation,onChange:t=>S("rotation",t)})}),Object(m.jsx)(o.a.Item,{label:"\u0412\u044b\u0441\u043e\u0442\u0430",children:Object(m.jsx)(c.a,{style:{width:50},value:null===f||void 0===f?void 0:f.height,onChange:t=>S("height",t)})}),Object(m.jsx)(o.a.Item,{label:"\u0428\u0438\u0440\u0438\u043d\u0430",children:Object(m.jsx)(c.a,{style:{width:50},value:null===f||void 0===f?void 0:f.width,onChange:t=>S("width",t)})}),Object(m.jsx)(o.a.Item,{label:"\u0421\u043b\u043e\u0439",children:Object(m.jsx)(c.a,{style:{width:50}})})]})})}),Object(m.jsx)(s.a,{style:{marginTop:16},children:Object(m.jsxs)("div",{style:{display:"flex",justifyContent:"center",gap:"16px"},children:[Object(m.jsx)(d.a,{type:"primary",icon:Object(m.jsx)(p.a,{}),onClick:()=>{const t=JSON.stringify(i,null,2),e=new Blob([t],{type:"application/json"}),a=URL.createObjectURL(e),l=document.createElement("a");l.href=a,l.download="layout.json",l.click(),URL.revokeObjectURL(a)},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),Object(m.jsx)(d.a,{onClick:()=>y([]),type:"danger",children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u0441\u0435"}),Object(m.jsx)(d.a,{onClick:()=>{f&&(y((t=>t.filter((t=>t.id!==f.id)))),w(null))},disabled:!f,icon:Object(m.jsx)(x.a,{}),children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u044d\u043b\u0435\u043c\u0435\u043d\u0442"})]})}),Object(m.jsx)(h.a,{beforeUpload:t=>{const e=new FileReader;return e.onload=t=>{try{const e=JSON.parse(t.target.result);y(e),a.b.success("\u0420\u0430\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u0430!")}catch(e){a.b.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0444\u0430\u0439\u043b\u0430")}},e.readAsText(t),!1},showUploadList:!1,children:Object(m.jsx)(d.a,{icon:Object(m.jsx)(O.a,{}),children:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c"})})]}),Object(m.jsx)(n.a,{xs:24,sm:24,md:16,lg:14,children:Object(m.jsxs)(s.a,{title:Object(m.jsx)("span",{style:{color:"white"},children:"\u041a\u0430\u0440\u0442\u0430 \u0437\u0430\u0432\u0435\u0434\u0435\u043d\u0438\u044f"}),extra:Object(m.jsxs)(g.a,{alignItems:"center",gap:8,children:[Object(m.jsx)("span",{style:{color:"white",marginRight:10},children:"\u0421\u0435\u0442\u043a\u0430"}),Object(m.jsx)(j.a,{size:"large",checked:v,onChange:k})]}),style:{height:"120%",position:"relative",backgroundColor:"black",color:"white"},onDragOver:t=>{t.preventDefault()},onDrop:t=>{t.preventDefault();const e=JSON.parse(t.dataTransfer.getData("text/plain")),{offsetX:i,offsetY:a,isDroppedItem:l,...n}=e,s=t.currentTarget.getBoundingClientRect();let r=t.clientX-s.left-i,o=t.clientY-s.top-a;o<50&&(o=50),y(l?t=>t.map((t=>t.id===n.id?{...t,x:r,y:o}:t)):t=>[...t,{...n,x:r,y:o,rotation:0,width:n.width,height:n.height}])},children:[v&&Object(m.jsx)("div",{style:{position:"absolute",top:50,left:0,width:"100%",height:"95%",backgroundSize:"30px 30px",backgroundImage:"linear-gradient(to right, rgba(255,255,255,0.1) 1px, transparent 1px), linear-gradient(to bottom, rgba(255,255,255,0.1) 1px, transparent 1px)"}}),i.map(((t,e)=>Object(m.jsx)("img",{src:t.img,alt:t.title,onClick:()=>(t=>{w(t)})(t),onDragStart:e=>C(e,t,!0),draggable:!0,style:{position:"absolute",left:t.x,top:t.y,width:t.width,height:t.height,transform:`rotate(${t.rotation}deg)`,border:(null===f||void 0===f?void 0:f.id)===t.id?"2px solid blue":"none",cursor:"pointer"}},e)))]})})]})})}}}]);
//# sourceMappingURL=34.719a086a.chunk.js.map