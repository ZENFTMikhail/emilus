(this.webpackJsonpemilus=this.webpackJsonpemilus||[]).push([[15],{552:function(e,t,a){"use strict";var n=a(4),s=a(2),r=a(12),c=a(6),i=a(7),l=a.n(i),o=a(79),d=a(26),m=a(0),u=a(69),b=a(201),j=a(172),p=m.createContext("default"),h=function(e){var t=e.children,a=e.size;return m.createElement(p.Consumer,null,(function(e){return m.createElement(p.Provider,{value:a||e},t)}))},f=p,O=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(a[n[s]]=e[n[s]])}return a},x=function(e,t){var a=m.useContext(f),i=m.useState(1),p=Object(c.a)(i,2),h=p[0],x=p[1],v=m.useState(!1),y=Object(c.a)(v,2),g=y[0],C=y[1],E=m.useState(!0),N=Object(c.a)(E,2),S=N[0],w=N[1],P=m.useRef(null),k=m.useRef(null),z=Object(d.a)(t,P),U=m.useContext(u.b).getPrefixCls,I=function(){if(k.current&&P.current){var t=k.current.offsetWidth,a=P.current.offsetWidth;if(0!==t&&0!==a){var n=e.gap,s=void 0===n?4:n;2*s<a&&x(a-2*s<t?(a-2*s)/t:1)}}};m.useEffect((function(){C(!0)}),[]),m.useEffect((function(){w(!0),x(1)}),[e.src]),m.useEffect((function(){I()}),[e.gap]);var R,F=e.prefixCls,T=e.shape,$=void 0===T?"circle":T,A=e.size,D=void 0===A?"default":A,H=e.src,L=e.srcSet,W=e.icon,B=e.className,J=e.alt,q=e.draggable,M=e.children,G=e.crossOrigin,K=O(e,["prefixCls","shape","size","src","srcSet","icon","className","alt","draggable","children","crossOrigin"]),V="default"===D?a:D,_=Object.keys("object"===Object(r.a)(V)&&V||{}).some((function(e){return["xs","sm","md","lg","xl","xxl"].includes(e)})),X=Object(b.a)(_),Q=m.useMemo((function(){if("object"!==Object(r.a)(V))return{};var e=j.b.find((function(e){return X[e]})),t=V[e];return t?{width:t,height:t,lineHeight:"".concat(t,"px"),fontSize:W?t/2:18}:{}}),[X,V]),Y=U("avatar",F),Z=l()(Object(s.a)(Object(s.a)({},"".concat(Y,"-lg"),"large"===V),"".concat(Y,"-sm"),"small"===V)),ee=m.isValidElement(H),te=l()(Y,Z,Object(s.a)(Object(s.a)(Object(s.a)({},"".concat(Y,"-").concat($),!!$),"".concat(Y,"-image"),ee||H&&S),"".concat(Y,"-icon"),!!W),B),ae="number"===typeof V?{width:V,height:V,lineHeight:"".concat(V,"px"),fontSize:W?V/2:18}:{};if("string"===typeof H&&S)R=m.createElement("img",{src:H,draggable:q,srcSet:L,onError:function(){var t=e.onError;!1!==(t?t():void 0)&&w(!1)},alt:J,crossOrigin:G});else if(ee)R=H;else if(W)R=W;else if(g||1!==h){var ne="scale(".concat(h,") translateX(-50%)"),se={msTransform:ne,WebkitTransform:ne,transform:ne},re="number"===typeof V?{lineHeight:"".concat(V,"px")}:{};R=m.createElement(o.a,{onResize:I},m.createElement("span",{className:"".concat(Y,"-string"),ref:k,style:Object(n.a)(Object(n.a)({},re),se)},M))}else R=m.createElement("span",{className:"".concat(Y,"-string"),style:{opacity:0},ref:k},M);return delete K.onError,delete K.gap,m.createElement("span",Object(n.a)({},K,{style:Object(n.a)(Object(n.a)(Object(n.a)({},ae),Q),K.style),className:te,ref:z}),R)};var v=m.forwardRef(x),y=a(46),g=function(e){return e?"function"===typeof e?e():e:null},C=a(80),E=a(200),N=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(a[n[s]]=e[n[s]])}return a},S=function(e){var t=e.title,a=e.content,n=e.prefixCls;return m.createElement(m.Fragment,null,t&&m.createElement("div",{className:"".concat(n,"-title")},g(t)),m.createElement("div",{className:"".concat(n,"-inner-content")},g(a)))};var w=m.forwardRef((function(e,t){var a=e.prefixCls,s=e.title,r=e.content,c=e._overlay,i=e.placement,l=void 0===i?"top":i,o=e.trigger,d=void 0===o?"hover":o,b=e.mouseEnterDelay,j=void 0===b?.1:b,p=e.mouseLeaveDelay,h=void 0===p?.1:p,f=e.overlayStyle,O=void 0===f?{}:f,x=N(e,["prefixCls","title","content","_overlay","placement","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle"]),v=m.useContext(u.b).getPrefixCls,y=v("popover",a),g=v(),w=m.useMemo((function(){return c||(s||r?m.createElement(S,{prefixCls:y,title:s,content:r}):null)}),[c,s,r,y]);return m.createElement(E.a,Object(n.a)({placement:l,trigger:d,mouseEnterDelay:j,mouseLeaveDelay:h,overlayStyle:O},x,{prefixCls:y,ref:t,overlay:w,transitionName:Object(C.c)(g,"zoom-big",x.transitionName)}))})),P=a(25),k=function(e){var t=m.useContext(u.b),a=t.getPrefixCls,n=t.direction,r=e.prefixCls,c=e.className,i=void 0===c?"":c,o=e.maxCount,d=e.maxStyle,b=e.size,j=a("avatar-group",r),p=l()(j,Object(s.a)({},"".concat(j,"-rtl"),"rtl"===n),i),f=e.children,O=e.maxPopoverPlacement,x=void 0===O?"top":O,g=e.maxPopoverTrigger,C=void 0===g?"hover":g,E=Object(y.a)(f).map((function(e,t){return Object(P.a)(e,{key:"avatar-key-".concat(t)})})),N=E.length;if(o&&o<N){var S=E.slice(0,o),k=E.slice(o,N);return S.push(m.createElement(w,{key:"avatar-popover-key",content:k,trigger:C,placement:x,overlayClassName:"".concat(j,"-popover")},m.createElement(v,{style:d},"+".concat(N-o)))),m.createElement(h,{size:b},m.createElement("div",{className:p,style:e.style},S))}return m.createElement(h,{size:b},m.createElement("div",{className:p,style:e.style},E))},z=v;z.Group=k;t.a=z},553:function(e,t,a){"use strict";a.r(t),a.d(t,"Setting",(function(){return T}));var n=a(0),s=a(464),r=a(147),c=a(50),i=a(45),l=a(448),o=a(456),d=a(57),m=a(3),u={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"}}]},name:"menu",theme:"outlined"},b=a(13),j=function(e,t){return n.createElement(b.a,Object(m.a)(Object(m.a)({},e),{},{ref:t,icon:u}))};var p=n.forwardRef(j),h=a(5);const{useBreakpoint:f}=l.a,O=e=>{const{sideContent:t,sideContentWidth:a=250,border:n}=e;return Object(h.jsx)("div",{className:"side-content "+(n?"with-border":""),style:{width:`${a}px`},children:t})},x=e=>{const{sideContent:t,visible:a,onSideContentClose:n}=e;return Object(h.jsx)(o.a,{width:320,placement:"left",closable:!1,onClose:n,visible:a,bodyStyle:{paddingLeft:0,paddingRight:0},children:Object(h.jsx)("div",{className:"h-100",children:t})})};var v=e=>{const{mainContent:t,pageHeader:a,sideContentGutter:s=!0}=e,r=!d.a.getBreakPoint(f()).includes("lg"),[c,i]=Object(n.useState)(!1);return Object(h.jsxs)("div",{className:"inner-app-layout",children:[r?Object(h.jsx)(x,{visible:c,onSideContentClose:e=>{i(!1)},...e}):Object(h.jsx)(O,{...e}),Object(h.jsxs)("div",{className:`main-content ${a?"has-page-header":""} ${s?"gutter":"no-gutter"}`,children:[r?Object(h.jsx)("div",{className:"font-size-lg mb-3 "+(s?"":"pt-3 px-3"),children:Object(h.jsx)(p,{onClick:()=>{i(!0)}})}):null,t]})]})},y=a(273),g=a(552),C=a(566),E=a(125),N=a(567),S=a(526),w=a(527),P=a(451),k=a(30),z=a(173);class U extends n.Component{constructor(e){var t;super(e),this.onFinish=async e=>{const t="updatable";this.setState({loading:!0}),y.b.loading({content:"Updating changes...",key:t}),setTimeout((async()=>{try{if(!(await fetch("https://jsonplaceholder.typicode.com/users/1",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok)throw new Error("Update failed");this.setState({...e,loading:!1}),y.b.success({content:"Profile updated successfully!",key:t,duration:1}),this.props.history.replace("/app/main/clients/user-list")}catch(a){this.setState({loading:!1}),y.b.error({content:"Failed to update profile. Try again.",key:t,duration:2})}}),2e3)},this.onUploadAvatar=e=>{const t="updatable";"uploading"!==e.file.status?"done"===e.file.status&&(this.getBase64(e.file.originFileObj,(e=>this.setState({avatarUrl:e}))),y.b.success({content:"Uploaded!",key:t,duration:1.5})):y.b.loading({content:"Uploading...",key:t,duration:1})},this.onRemoveAvatar=()=>{this.setState({avatarUrl:""})};const a=(null===(t=e.location.state)||void 0===t?void 0:t.user)||{};console.log(a),this.state={avatarUrl:a.img||"",name:a.name||"",email:a.email||"",userName:a.username||"",phoneNumber:a.phone||"",website:a.website||"",address:a.city||"",city:a.address||"",postcode:a.postcode||""}}getBase64(e,t){const a=new FileReader;a.addEventListener("load",(()=>t(a.result))),a.readAsDataURL(e)}render(){const{name:e,email:t,userName:a,phoneNumber:n,website:r,address:c,city:i,postcode:l,avatarUrl:o}=this.state;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)(z.a,{alignItems:"center",mobileFlex:!1,className:"text-center text-md-left",children:[Object(h.jsx)(g.a,{size:90,src:o,icon:Object(h.jsx)(s.a,{})}),Object(h.jsxs)("div",{className:"ml-md-3 mt-md-0 mt-3",children:[Object(h.jsx)(C.a,{onChange:this.onUploadAvatar,showUploadList:!1,action:this.avatarEndpoint,children:Object(h.jsx)(E.a,{type:"primary",children:"Change Avatar"})}),Object(h.jsx)(E.a,{className:"ml-2",onClick:this.onRemoveAvatar,children:"Remove"})]})]}),Object(h.jsx)("div",{className:"mt-4",children:Object(h.jsx)(N.a,{name:"basicInformation",layout:"vertical",initialValues:{name:e,email:t,username:a,phoneNumber:n,website:r,address:c,city:i,postcode:l},onFinish:this.onFinish,children:Object(h.jsx)(S.a,{children:Object(h.jsxs)(w.a,{xs:24,sm:24,md:24,lg:16,children:[Object(h.jsxs)(S.a,{gutter:k.c,children:[Object(h.jsx)(w.a,{xs:24,sm:24,md:12,children:Object(h.jsx)(N.a.Item,{label:"Name",name:"name",rules:[{required:!0,message:"Please input your name!"}],children:Object(h.jsx)(P.a,{})})}),Object(h.jsx)(w.a,{xs:24,sm:24,md:12,children:Object(h.jsx)(N.a.Item,{label:"Username",name:"username",rules:[{required:!0,message:"Please input your username!"}],children:Object(h.jsx)(P.a,{})})}),Object(h.jsx)(w.a,{xs:24,sm:24,md:12,children:Object(h.jsx)(N.a.Item,{label:"Email",name:"email",rules:[{required:!0,type:"email",message:"Please enter a valid email!"}],children:Object(h.jsx)(P.a,{})})}),Object(h.jsx)(w.a,{xs:24,sm:24,md:12,children:Object(h.jsx)(N.a.Item,{label:"Phone Number",name:"phoneNumber",children:Object(h.jsx)(P.a,{})})}),Object(h.jsx)(w.a,{xs:24,sm:24,md:12,children:Object(h.jsx)(N.a.Item,{label:"Website",name:"website",children:Object(h.jsx)(P.a,{})})}),Object(h.jsx)(w.a,{xs:24,sm:24,md:24,children:Object(h.jsx)(N.a.Item,{label:"Address",name:"address",children:Object(h.jsx)(P.a,{})})}),Object(h.jsx)(w.a,{xs:24,sm:24,md:12,children:Object(h.jsx)(N.a.Item,{label:"City",name:"city",children:Object(h.jsx)(P.a,{})})}),Object(h.jsx)(w.a,{xs:24,sm:24,md:12,children:Object(h.jsx)(N.a.Item,{label:"Post code",name:"postcode",children:Object(h.jsx)(P.a,{})})})]}),Object(h.jsx)(E.a,{type:"primary",htmlType:"submit",children:"Save Changes"})]})})},JSON.stringify(this.state))})]})}}var I=Object(i.h)(U);const R=e=>{let{match:t,location:a}=e;return Object(h.jsx)(r.a,{defaultSelectedKeys:`${t.url}/edit-profile`,mode:"inline",selectedKeys:[a.pathname],children:Object(h.jsxs)(r.a.Item,{children:[Object(h.jsx)(s.a,{}),Object(h.jsx)("span",{children:"Edit Profile"}),Object(h.jsx)(c.b,{to:"edit-profile"})]},`${t.url}/edit-profile`)})},F=e=>{let{match:t}=e;return Object(h.jsxs)(i.d,{children:[Object(h.jsx)(i.a,{exact:!0,from:`${t.url}`,to:`${t.url}/edit-profile`}),Object(h.jsx)(i.b,{path:`${t.url}/edit-profile`,component:I})]})};class T extends n.Component{render(){return Object(h.jsx)(v,{sideContentWidth:320,sideContent:Object(h.jsx)(R,{...this.props}),mainContent:Object(h.jsx)(F,{...this.props})})}}t.default=T}}]);
//# sourceMappingURL=15.8c15f68c.chunk.js.map